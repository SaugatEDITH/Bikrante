{% load static %}
<header class="header">
    <nav class="nav container">
      <a href="{% url 'home' %}" class="nav__logo">
        <img
          class="nav__logo-img"
          src="{% static 'images/logo.svg' %}"
          alt="website logo"
          style="width: 150px; height: 150px;"
        />
      </a>
     
      <div class="nav__menu" id="nav-menu">
        <div class="nav__menu-top">
          <a href="{% url 'home' %}" class="nav__menu-logo">
            <img src=" {% static 'images/logo.svg' %}" alt="">
          </a>
          <div class="nav__close" id="nav-close">
            <i class="fi fi-rs-cross-small"></i>
          </div>
        </div>
        <ul class="nav__list">
          <li class="nav__item">
            <a href="{% url 'home' %}" class="nav__link {% if request.resolver_match.url_name == 'home' %}active-link{% endif %}">
              <i class="fas fa-home"></i> Home 
            </a>
          </li>
          <li class="nav__item">
            <a href="{% url 'shop' %}" class="nav__link {% if request.resolver_match.url_name == 'shop' %}active-link{% endif %}">
              <i class="fas fa-store"></i> Shop 
            </a>
          </li>
          <li class="nav__item">
            <a href="{% url 'contact' %}" class="nav__link {% if request.resolver_match.url_name == 'contact' %}active-link{% endif %}">
              <i class="fas fa-envelope"></i> Contact 
            </a>
          </li>
          {% if user.is_authenticated %}
          <li class="nav__item">
            <a href="{% url "user-dashboard" %}" class="nav__link">
              <i class="fas fa-user"></i>My Account 
            </a>
          </li>
          <li class="nav__item">
            <a href="{% url 'logout' %}" class="nav__link">
              <i class="fas fa-sign-out-alt"></i> Logout 
            </a>
          </li>
          {% else %}
          <li class="nav__item">
            <a href="{% url 'login' %}" class="nav__link {% if request.resolver_match.url_name == 'login' %}active-link{% endif %}">
              <i class="fas fa-sign-in-alt"></i> Login 
            </a>
          </li>
          <li class="nav__item">
            <a href="{% url 'signup' %}" class="nav__link {% if request.resolver_match.url_name == 'signup' %}active-link{% endif %}">
                <i class="fas fa-user-plus"></i> Signup 
            </a>
          </li>
          {% endif %}
        </ul>
        <div class="header__search">
          <form class="search-form">
            <input
              type="text"
              placeholder="Search For Items..."
              class="form__input"
              name="search_text"
              autocomplete="off"
              hx-get="{% url 'search' %}"
              hx-trigger="input changed delay:300ms"
              hx-target="#main-content"
              hx-swap="innerHTML"
            />
            <button type="submit" class="search__btn">
              <img src="{% static 'images/search.png' %}" alt="search icon" class="search-indicator" />
            </button>
          </form>
        </div>
      </div>
      <div class="header__user-actions">
        <a href="{% url 'wishlist' %}" class="header__action-btn" title="Wishlist">
          <img src="{% static "images/icon-heart.svg" %} " alt="" />
          <span class="count">{{ user.liked_products.count }}</span>
        </a>
        <a href="{% url 'cart' %}" class="header__action-btn" title="Cart">
          <img src="{% static 'images/icon-cart.svg' %}" alt="" />
          <span class="count">3</span>
        </a>
        <div class="header__action-btn nav__toggle" id="nav-toggle">
          <img src="{% static 'images/menu-burger.svg' %}" alt="">
        </div>
      </div>
    </nav>
  </header>